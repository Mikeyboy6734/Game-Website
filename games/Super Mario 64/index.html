<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Super Mario 64</title>
  <script src="js/js64.js"></script> <!-- emulator JS -->
</head>
<body>
  <h1>Super Mario 64</h1>
  <canvas id="screen" width="640" height="480"></canvas>
  <input type="file" id="romInput" accept=".n64,.z64"/>
  
  <script>
    const canvas = document.getElementById('screen');
    const romInput = document.getElementById('romInput');
    
    romInput.addEventListener('change', async (event) => {
      const file = event.target.files[0];
      if (!file) return;
      
      const arrayBuffer = await file.arrayBuffer();
      const romData = new Uint8Array(arrayBuffer);

      // Start the emulator
      const emulator = new JS64({canvas: canvas});
      emulator.loadROM(romData);
      emulator.start();
    });
  </script>
</body>
</html>
